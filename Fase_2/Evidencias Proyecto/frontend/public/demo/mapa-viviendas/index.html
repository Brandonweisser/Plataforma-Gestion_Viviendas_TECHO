<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Demo Mapa Viviendas por Comuna</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <style>
    body { margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif; }
    #app { display:grid; grid-template-columns: 300px 1fr; height:100vh; }
    #sidebar { border-right:1px solid #e5e7eb; padding:12px 10px; display:flex; flex-direction:column; }
    #sidebar h1 { font-size:16px; margin:0 0 8px; }
    #sidebar small { color:#6b7280; }
    #sidebar ul { list-style:none; padding:0; margin:12px 0 0; overflow:auto; flex:1; }
    #map { width:100%; height:100%; }
    .leaflet-container { background:#f8fafc; }
    .legend { position:absolute; bottom:12px; right:12px; background:white; padding:8px 10px; border-radius:6px; box-shadow:0 2px 6px rgba(0,0,0,0.15); font-size:12px; }
    .legend span { display:inline-block; width:14px; height:14px; margin-right:4px; border-radius:3px; }
  </style>
</head>
<body>
  <div id="app">
    <aside id="sidebar">
      <h1>Viviendas por Comuna</h1>
      <small>Click en la lista o marcador para enfocar. Los círculos escalan por número de viviendas.</small>
      <ul id="sidebar-list"></ul>
      <div style="font-size:11px;color:#6b7280;">Datos demo estáticos. Fuente mapa © OpenStreetMap.</div>
    </aside>
    <div id="map"></div>
  </div>
  <div class="legend">
    <div><span style="background:#2563eb"></span>1</div>
    <div><span style="background:#16a34a"></span>2–3</div>
    <div><span style="background:#fb923c"></span>4–5</div>
    <div><span style="background:#dc2626"></span>6+</div>
  </div>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script src="script.js"></script>
</body>
</html>